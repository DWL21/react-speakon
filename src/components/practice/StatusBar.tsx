import React from 'react';
import { colors } from '../../theme/colors';

interface StatusBarProps {
  currentSlide: number;
  totalSlides: number;
  currentPageTime?: { minutes: number; seconds: number };
  isTimerRunning?: boolean;
  onTimeSettingClick?: () => void;
  onScriptWritingClick?: () => void;
}

export const StatusBar: React.FC<StatusBarProps> = ({
  currentSlide,
  totalSlides,
  currentPageTime,
  isTimerRunning,
  onTimeSettingClick,
  onScriptWritingClick,
}) => {
  const formatTime = (value: number) => value.toString().padStart(2, '0');
  return (
    <div style={statusBarStyle}>
      {/* 왼쪽: 현재 페이지 시간 */}
      <div style={pageTimeStyle}>
        <span>
          {currentPageTime && isTimerRunning ? 
            `${formatTime(currentPageTime.minutes)}:${formatTime(currentPageTime.seconds)}` : 
            '00:00'
          }
        </span>
      </div>
      
      {/* 중앙: 페이지 번호 */}
      <div style={pageIndicatorStyle}>
        <span>{currentSlide}</span>
        <span>/</span>
        <span>{totalSlides}</span>
      </div>
      
      {/* 우측: 액션 버튼들 */}
      <div style={actionButtonsStyle}>
        <div style={clickableActionButtonStyle} onClick={onTimeSettingClick}>
          <svg width="70" height="18" viewBox="0 0 58 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd" d="M6 4.5C4.067 4.5 2.5 6.067 2.5 8C2.5 9.933 4.067 11.5 6 11.5C7.933 11.5 9.5 9.933 9.5 8C9.5 6.067 7.933 4.5 6 4.5ZM1.5 8C1.5 5.51472 3.51472 3.5 6 3.5C8.48528 3.5 10.5 5.51472 10.5 8C10.5 10.4853 8.48528 12.5 6 12.5C3.51472 12.5 1.5 10.4853 1.5 8Z" fill="#7D7E83"/>
            <path fillRule="evenodd" clipRule="evenodd" d="M6 5.5C6.27614 5.5 6.5 5.72386 6.5 6V7.79289L7.35355 8.64645C7.54882 8.84171 7.54882 9.15829 7.35355 9.35355C7.15829 9.54882 6.84171 9.54882 6.64645 9.35355L5.64645 8.35355C5.55268 8.25979 5.5 8.13261 5.5 8V6C5.5 5.72386 5.72386 5.5 6 5.5Z" fill="#7D7E83"/>
            <path d="M2.30003 4.15003C2.07912 4.31571 1.76571 4.27094 1.60003 4.05003C1.43434 3.82912 1.47912 3.51571 1.70003 3.35003L2.70003 2.60003C2.92094 2.43434 3.23434 2.47912 3.40003 2.70003C3.56571 2.92094 3.52094 3.23434 3.30003 3.40003L2.30003 4.15003Z" fill="#7D7E83"/>
            <path d="M9.30003 2.60009C9.07912 2.4344 8.76571 2.47917 8.60003 2.70009C8.43434 2.921 8.47912 3.2344 8.70003 3.40009L9.70003 4.15009C9.92094 4.31577 10.2343 4.271 10.4 4.05009C10.5657 3.82917 10.5209 3.51577 10.3 3.35009L9.30003 2.60009Z" fill="#7D7E83"/>
            <path d="M17.125 4.83203C17.1133 6.73047 18.4141 8.65234 19.9492 9.34375L19.3867 10.0703C18.2031 9.49023 17.1777 8.26562 16.6797 6.77734C16.1934 8.35352 15.168 9.66602 13.9492 10.2812L13.3633 9.50781C14.9102 8.79297 16.1992 6.8125 16.2109 4.83203V2.93359H17.125V4.83203ZM22.0117 2.03125V12.4727H21.0859V2.03125H22.0117ZM31.9375 2.03125V5.20703H33.5078V5.98047H31.9375V9.66016H31.0117V2.03125H31.9375ZM29.125 2.83984C29.125 5.52344 27.2031 7.51562 24.2031 8.45312L23.8047 7.71484C26.3008 6.93555 27.9297 5.44727 28.1289 3.61328H24.2383V2.83984H29.125ZM32.418 11.4531V12.2266H25.4102V8.88672H26.3242V11.4531H32.418ZM45.8125 2.03125V7.42188H44.8867V4.71484H42.5664V3.95312H44.8867V2.03125H45.8125ZM45.8125 7.94922V10.4336H39.9883V11.5703H46.1992V12.3086H39.0859V9.73047H44.8984V8.6875H39.0625V7.94922H45.8125ZM40.7266 3.35547C40.7148 4.72656 41.793 5.96875 43.3164 6.47266L42.8242 7.1875C41.6699 6.77734 40.75 5.95703 40.293 4.90234C39.8477 6.0918 38.9043 7 37.668 7.44531L37.1641 6.70703C38.7344 6.19141 39.8125 4.87891 39.8242 3.35547V2.37109H40.7266V3.35547ZM56.1836 2.03125V8.24219H55.2578V5.51172H53.1602V4.75H55.2578V2.03125H56.1836ZM52.7266 8.57031C54.8945 8.57031 56.2188 9.27344 56.2188 10.5039C56.2188 11.7344 54.8945 12.4375 52.7266 12.4492C50.5586 12.4375 49.2344 11.7344 49.2344 10.5039C49.2344 9.27344 50.5586 8.57031 52.7266 8.57031ZM52.7266 9.28516C51.1328 9.28516 50.1367 9.74219 50.1484 10.5039C50.1367 11.2539 51.1328 11.7109 52.7266 11.7109C54.3203 11.7109 55.3047 11.2539 55.3047 10.5039C55.3047 9.74219 54.3203 9.28516 52.7266 9.28516ZM51.168 3.94141C51.168 5.30078 52.2109 6.58984 53.7344 7.11719L53.2539 7.85547C52.082 7.43359 51.1738 6.56055 50.7344 5.47656C50.2773 6.70117 49.3105 7.67969 48.0742 8.14844L47.5938 7.41016C49.1406 6.84766 50.2422 5.44141 50.2422 3.95312V3.56641H47.8867V2.79297H53.5V3.56641H51.168V3.94141Z" fill="#7D7E83"/>
          </svg>
        </div>
        <div style={clickableActionButtonStyle} onClick={onScriptWritingClick}>
          <svg width="70" height="18" viewBox="0 0 58 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2 12C2 11.7239 2.22386 11.5 2.5 11.5H9.5C9.77614 11.5 10 11.7239 10 12C10 12.2761 9.77614 12.5 9.5 12.5H2.5C2.22386 12.5 2 12.2761 2 12Z" fill="#7D7E83"/>
            <path fillRule="evenodd" clipRule="evenodd" d="M8.32723 3.79411C7.9367 3.40359 7.30354 3.40359 6.91302 3.79411L3.45997 7.24714L3.00107 9.49899L5.25286 9.04003L8.7059 5.58701C9.09643 5.19648 9.09643 4.56332 8.7059 4.17279L8.32723 3.79411ZM6.20591 3.087C6.98696 2.30596 8.25329 2.30596 9.03433 3.08701L9.41301 3.46568C10.1941 4.24673 10.1941 5.51307 9.41301 6.29412L5.95996 9.74714C5.82125 9.88586 5.6448 9.98071 5.45257 10.0199L3.20078 10.4788C2.49851 10.622 1.87809 10.0016 2.02121 9.29931L2.48011 7.04745C2.51929 6.85522 2.61414 6.67875 2.75287 6.54003L6.20591 3.087Z" fill="#7D7E83"/>
            <path d="M22.3281 2.03125V12.4492H21.4492V6.98828H19.9141V11.9102H19.0703V2.26562H19.9141V6.22656H21.4492V2.03125H22.3281ZM17.7109 3.30859V4.07031H14.7227V9.08594C16.1582 9.08008 17.1543 9.02734 18.3086 8.79297L18.3906 9.56641C17.1367 9.82422 16.0703 9.87109 14.4766 9.87109H13.8086V3.30859H17.7109ZM25.9727 2.45312V3.77734H31.1289V2.45312H32.043V6.61328H28.9961V7.72656H33.2852V8.48828H23.793V7.72656H28.082V6.61328H25.0586V2.45312H25.9727ZM25.9727 5.875H31.1289V4.50391H25.9727V5.875ZM32.2305 11.4531V12.2266H25.0234V9.32031H25.9492V11.4531H32.2305ZM40.7031 3.96484C40.7031 5.34766 41.7227 6.61328 43.2695 7.15234L42.8008 7.86719C41.6113 7.44531 40.7031 6.58984 40.2578 5.51172C39.8125 6.69531 38.8574 7.61523 37.6328 8.06641L37.1406 7.35156C38.6992 6.80078 39.7891 5.45312 39.8008 3.96484V3.51953H37.4219V2.76953H43.0469V3.51953H40.7031V3.96484ZM45.3203 2.03125V4.78516H46.8906V5.57031H45.3203V8.3125H44.4062V2.03125H45.3203ZM45.3203 8.86328V12.4492H44.4062V9.61328H38.5V8.86328H45.3203ZM51.1328 3.67188C51.1211 5.16016 52.1758 6.47266 53.7109 6.98828L53.1953 7.70312C52.0469 7.26953 51.1445 6.42578 50.6992 5.32422C50.248 6.57227 49.293 7.54492 48.0391 8.01953L47.5352 7.26953C49.1406 6.70703 50.207 5.32422 50.2188 3.70703V2.62891H51.1328V3.67188ZM56.1836 2.03125V8.20703H55.2578V5.03125H52.9375V4.26953H55.2578V2.03125H56.1836ZM52.7266 8.51172C54.8945 8.51172 56.2188 9.22656 56.2188 10.4805C56.2188 11.7227 54.8945 12.4258 52.7266 12.4258C50.5586 12.4258 49.2344 11.7227 49.2344 10.4805C49.2344 9.22656 50.5586 8.51172 52.7266 8.51172ZM52.7266 9.23828C51.1328 9.23828 50.1367 9.70703 50.1484 10.4805C50.1367 11.2305 51.1328 11.6875 52.7266 11.6875C54.3203 11.6875 55.3047 11.2305 55.3047 10.4805C55.3047 9.70703 54.3203 9.23828 52.7266 9.23828Z" fill="#7D7E83"/>
          </svg>
        </div>
      </div>
    </div>
  );
};

const statusBarStyle: React.CSSProperties = {
  display: 'flex',
  justifyContent: 'space-between',
  alignItems: 'center',
  padding: '0 41px',
  height: '60px',
};

const pageTimeStyle: React.CSSProperties = {
  width: '125px',
  display: 'flex',
  alignItems: 'center',
  fontSize: '16px',
  fontWeight: 500,
  color: colors.label.normal,
  fontFamily: 'Pretendard, sans-serif',
};

const pageIndicatorStyle: React.CSSProperties = {
  display: 'flex',
  gap: '4px',
  fontSize: '18px',
  fontWeight: 500,
  color: colors.label.neutral,
  fontFamily: 'Pretendard, sans-serif',
};

const actionButtonsStyle: React.CSSProperties = {
  display: 'flex',
  gap: '9px',
};

const actionButtonStyle: React.CSSProperties = {
  display: 'flex',
  alignItems: 'center',
  gap: '2px',
  fontSize: '12px',
  color: colors.label.neutral,
  fontFamily: 'Pretendard, sans-serif',
};

const clickableActionButtonStyle: React.CSSProperties = {
  ...actionButtonStyle,
  cursor: 'pointer',
};